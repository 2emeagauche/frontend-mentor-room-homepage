<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- displays site properly based on user's device -->

    <link rel="icon" type="image/png" sizes="32x32"
      href="assets/images/favicon-32x32.png">

    <title>Frontend Mentor | Room homepage</title>

    <meta name="description"
      content="This is the challenge for the animation section of the advanced css course">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
      href="https://fonts.googleapis.com/css2?family=League+Spartan:wght@500..700&display=swap"
      rel="stylesheet">

    <link rel="stylesheet" href="assets/styles/styles.css">

  </head>
  <body>
    <div class="body-container">
      <div class="super-main">
        <header>
          <h1 class="home-page-title"><span class="sr-only">Home page of Room
              website</span><img src="assets/images/logo.svg"
              alt="Room company logo" class="room-logo"></h1>
          <nav class="primary-navigation" aria-label="Primary navigation">
            <button class="mobile-nav-toggle"
              aria-controls="primary-menu" aria-expanded="false">
              <span class="sr-only">Menu</span>
            </button>
            <div class="menu-container">
              <ul id="primary-menu" data-visible="false" class="primary-menu">
                <li><a href="/">
                    home
                  </a></li>
                <li><a href="/">
                    shop
                  </a></li>
                <li><a href="/">
                    about
                  </a></li>
                <li><a href="/">
                    contact
                  </a></li>
              </ul>
            </div>
          </nav>
        </header>
        <div class="carousel-command">
          <button class="carousel-command-left" aria-controls="carousel"
            aria-label="previous slide"><img
              src="assets/images/icon-angle-left.svg"
              alt="arrow pointing left"></button>
          <button class="carousel-command-right" aria-controls="carousel"
            aria-label="next slide"><img
              src="assets/images/icon-angle-right.svg"
              alt="arrow pointing right"></button>
        </div>

        <main id="carousel" class="carousel" aria-roledescription="Slideshow" aria-label="Carousel of articles">
          <section class="carousel-slide" role="group" aria-roledescription="Slide" aria-label="1 of 3">
            <picture class="carousel-slide-visual">
              <source srcset="assets/images/desktop-image-hero-1.jpg">
              <img src="assets/images/mobile-image-hero-1.jpg"
                alt="two chairs and a table" />
            </picture>
            <div class="carousel-slide-message">
              <h2 class="carousel-slide-heading heading-big">Discover innovative
                ways to
                decorate</h2>

              <p class="carousel-slide-paragraph paragraph">We provide unmatched
                quality, comfort, and
                style for property owners across the country.
                Our experts combine form and function in bringing your vision to
                life.
                Create a room in your own style with our collection and make
                your
                property a
                reflection of you and what you love.</p>

              <a class="carousel-slide-link" href="/"><span>Shop now</span><img
                  src="assets/images/icon-arrow.svg" alt="/"></a>
            </div>
          </section>
          <section class="carousel-slide" role="group" aria-roledescription="Slide" aria-label="2 of 3">
            <picture class="carousel-slide-visual">
              <source srcset="assets/images/desktop-image-hero-2.jpg">
              <img src="assets/images/mobile-image-hero-2.jpg"
                alt="three chairs" />
            </picture>
            <div class="carousel-slide-message">
              <h2 class="carousel-slide-heading heading-big">We are available
                all
                across the
                globe</h2>

              <p class="carousel-slide-paragraph paragraph">With stores all over
                the world, it's easy
                for you to find furniture for your home or place of business.
                Locally, we’re in most major cities throughout the country.
                Find the branch nearest you using our store locator. Any
                questions? Don't hesitate to contact us
                today.</p>

              <a class="carousel-slide-link" href="/"><span>Shop now</span><img
                  src="assets/images/icon-arrow.svg" alt="/"></a>
            </div>
          </section>
          <section class="carousel-slide" role="group" aria-roledescription="Slide" aria-label="3 of 3">
            <picture class="carousel-slide-visual">
              <source srcset="assets/images/desktop-image-hero-3.jpg">
              <img src="assets/images/mobile-image-hero-3.jpg"
                alt="one chair" />
            </picture>
            <div class="carousel-slide-message">
              <h2 class="carousel-slide-heading heading-big">Manufactured with
                the
                best
                materials</h2>

              <p class="carousel-slide-paragraph paragraph">Our modern furniture
                store provide a high
                level of quality. Our company has invested in advanced
                technology
                to ensure that every product is made as perfect and as
                consistent as possible. With three decades of experience in this
                industry, we understand what customers want
                for their home and office.</p>

              <a class="carousel-slide-link" href="/"><span>Shop now</span><img
                  src="assets/images/icon-arrow.svg" alt="/"></a>
            </div>
          </section>
        </main>
      </div>
      <footer class="home-footer">
        <img class="footer-visual" src="assets/images/image-about-dark.jpg"
          alt="salon furnitures in a dim light" />
        <div class="footer-text-content">
          <h2 class="footer-heading heading-small">About our furniture</h2>

          <p class="footer-paragraph  paragraph">Our multifunctional collection
            blends design and
            function to suit your individual taste.
            Make each room unique, or pick a cohesive theme that best express
            your
            interests and what
            inspires you. Find the furniture pieces you need, from traditional
            to
            contemporary styles
            or anything in between. Product specialists are available to help
            you
            create your dream space.</p>

          <div class="attribution">
            Challenge by <a href="https://www.frontendmentor.io?ref=challenge"
              target="_blank">Frontend Mentor</a>.
            Coded by <a
              href="https://www.frontendmentor.io/profile/2emeagauche">@2emeagauche</a>.
          </div>
        </div>
        <img class="footer-visual" src="assets/images/image-about-light.jpg"
          alt="a stool white chair in bright light" />
      </footer>
    </div>
  </body>
  <script>
    // Toggle burger menu
    const burgerMenuBreakpoint = 1200;
    const toggle = document.querySelector('.mobile-nav-toggle');
    const menu = document.querySelector('.primary-menu');
    const listEltsMenu = document.querySelectorAll('.menu-container a');
    const listOutsideMenu = document.querySelectorAll('.carousel a, .carousel-command button, .home-footer a');

    let ecouteurActif = false;

    function gererClick(event) {
        if(menu.dataset.visible === "false") {
          menu.dataset.visible = "true";
          toggle.setAttribute('aria-expanded', 'true');
          listEltsMenu.forEach((elt) => {
            elt.setAttribute('tabindex', '0');
          });
          listOutsideMenu.forEach((elt) => {
            elt.setAttribute('tabindex', '-1');
          });
        } else {
          menu.dataset.visible = "false";
          toggle.setAttribute('aria-expanded', 'false');
          listEltsMenu.forEach((elt) => {
            elt.setAttribute('tabindex', '-1');
          });
          listOutsideMenu.forEach((elt) => {
            elt.setAttribute('tabindex', '0');
          });
        }
    }

    function ajouterEcouteur() {
        if (!ecouteurActif && toggle) {
            toggle.addEventListener('click', gererClick);
            ecouteurActif = true;
        }
    }

    function supprimerEcouteur() {
        if (ecouteurActif && toggle) {
            toggle.removeEventListener('click', gererClick);
            ecouteurActif = false;
        }
    }

    function gererEcouteurSelonLargeur() {
        const largeurFenetre = window.innerWidth;
        
        if (largeurFenetre <= burgerMenuBreakpoint) {
            listEltsMenu.forEach((elt) => {
              elt.setAttribute('tabindex', '-1');
            });
            ajouterEcouteur();
          } else {
            listEltsMenu.forEach((elt) => {
              elt.setAttribute('tabindex', '0');
            });
            supprimerEcouteur();
        }
    }

    // Initialisation au chargement de la page
    document.addEventListener('DOMContentLoaded', function() {
        gererEcouteurSelonLargeur();
    });

    // Écouter les changements de taille de fenêtre
    window.addEventListener('resize', function() {
        // Optionnel : ajouter un délai pour éviter trop d'appels
        clearTimeout(window.resizeTimeout);
        window.resizeTimeout = setTimeout(gererEcouteurSelonLargeur, 100);
    });

  </script>
  <script>
    // Control carousel
    const carousel = document.querySelector('.carousel');
    const slides = carousel.querySelectorAll('.carousel-slide');
    const carouselCount = slides.length;
    const carouselCommand = document.querySelector('.carousel-command');
    const buttonLeft = document.querySelector('.carousel-command-left');
    const buttonRight = document.querySelector('.carousel-command-right');
    const scrollWidth = carousel.clientWidth;
    const scrollMax = carousel.scrollWidth - carousel.clientWidth;

    if(carouselCount > 1) {

      buttonLeft.addEventListener('click', scrollLeft);
      buttonRight.addEventListener('click', scrollRight);

      function scrollLeft() {
        if(carousel.scrollLeft > 0) {
          carousel.scrollBy({
            left: -scrollWidth,
            behavior: 'smooth'
          });
        }
      }
      
      function scrollRight() {
        if(carousel.scrollLeft < scrollMax) {
          carousel.scrollBy({
            left: scrollWidth,
            behavior: 'smooth'
          });
        } else {
          console.log('end');
        }
      }
    } else {
      carouselCommand.setAttribute('style', 'display:none');
    }
  </script>
</html>
